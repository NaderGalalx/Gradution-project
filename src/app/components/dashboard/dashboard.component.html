<section class="main-content">
    <div class="container">
        <h1>آخر الفعاليات</h1>
        <div class="row">
            @for (item of eventsData; track item.id) {
            <div class="col-md-6 col-sm-12">
                <div class="img-bx">
                    <div class="top-layer">
                        <div class="title">
                            <h2>{{item.title}}</h2>
                            <p>{{item.start_time | date}}</p>
                            <p>{{item.description.split(' ').slice(0, 10).join(' ')}}</p>
                        </div>
                    </div>
                    <img [src]="item.image || './assets/images/institute.png'"
                        (error)="item.image = './assets/images/institute.png'" alt="Institute image">
                </div>
            </div>

            }
        </div>

        <h1>نظرة عامة</h1>
        <!-- graphs -->
        <div class="row" dir="rtl">
            <div class="overview">
                <div class="item">
                    <h3>طلبات معلقة</h3>
                    <div class="pending-line line">
                        <span>{{ statsData?.pending_percentage }}%</span>
                        <div class="pending-percentage percentage" [style.width.%]="statsData?.pending_percentage">
                        </div>
                    </div>
                </div>

                <div class="item">
                    <h3>طلبات مقبولة</h3>
                    <div class="accepted-line line">
                        <span>{{ statsData?.accepted_percentage }}%</span>
                        <div class="accepted-percentage percentage" [style.width.%]="statsData?.accepted_percentage">
                        </div>
                    </div>
                </div>

                <div class="item">
                    <h3>طلبات مرفوضة</h3>
                    <div class="rejected-line line">
                        <span>{{ statsData?.rejected_percentage }}%</span>
                        <div class="rejected-percentage percentage" [style.width.%]="statsData?.rejected_percentage">
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
</section>

<!-- <div class="row">
    <div class="dashboard">
        <div class="donut-chart">
            <div class="donut-chart__container">
                <svg class="donut-chart__svg" viewBox="0 0 100 100">
                    <circle class="donut-chart__background" cx="50" cy="50" r="45" />

                    <circle *ngFor="let segment of segments" class="donut-chart__segment" [attr.stroke]="segment.color"
                        [attr.stroke-dasharray]="segment.dashArray" cx="50" cy="50" r="45" />
                </svg>

                <div class="donut-chart__center">
                    <div class="donut-chart__total">{{total}}</div>
                    <div class="donut-chart__label">Total Requests</div>
                </div>
            </div>

            <div class="donut-chart__legend">
                @for (item of data; track $index) {

                <div class="donut-chart__legend-item">
                    <span class="donut-chart__legend-color" [style.background-color]="item.color"></span>
                    <span class="donut-chart__legend-label">{{item.label}}</span>
                    <span class="donut-chart__legend-value">{{item.value}} ({{item.value/100}})</span>
                </div>
                }
            </div>
        </div>
    </div>

</div> -->